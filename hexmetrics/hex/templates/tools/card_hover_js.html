{% extends "layout.html" %}
{% block title %}{{ title }}{% endblock %}
{% block content %}
<div class="main">
<div class="container">
<div class="row">
<div class="span12">
<div class="widget stacked">
<div class="widget-header">
<i class="icon-list-alt"></i>
<h3>Results</h3>
</div>
<div class="widget-content">
<table class="table table-bordered table-striped table-highlight">
	<thead>
	<tr>
	{% for heading in table['headers'] %}
	<th>{{ heading }}</th>
	{% endfor %}
	</tr>
	</thead>
	<tbody>
	{% for row in table['cards'] %}
	<tr>
		{% for item in row %}
		<td>{{ item|safe }}</td>
		{% endfor %}
	</tr>
	{% endfor %}
	</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
{% endblock %}
{% block javascript_code %}

$("body").append('<iframe scrolling="no" style="display:none;width:250px;height:350px;background-color:#000;overflow:hidden;border:none" id="hex-cards-box"></iframe>')

$("a.hex-card").each(function () {
	$(this).append('!')
	$(this).hover( function (e) {
		$a_ref = $(this);
		$this = $(this);
        $.data(this, 'title', $this.attr('title'));
        $this.removeAttr('title');
		$(document).bind('mousemove', function(e){
	    	$('#hex-cards-box').offset({left:e.pageX+20,top:e.pageY+10});
		});
		
		
		$("#hex-cards-box").prop("src", '{{ url_for ('ToolsView:getSingleCardFrame') }}?url='+$a_ref.prop('href'));
		$("#hex-cards-box").load ( function () {
			$("#hex-cards-box").fadeIn(500)
		})
				
	}, function () {
		$("#hex-cards-box").fadeOut(100)
		$this = $(this);
        $this.attr('title', $this.data('title'));
	});
});

{% endblock %}